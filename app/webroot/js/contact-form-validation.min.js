jQuery(document).ready
(
    function(e)
    {
        "use strict";
        e("#contact-form").validate
        (
            {
                submitHandler: function(s)
                {
                    var o=e(s),
                        t=e("#contactSuccess"),
                        a=e("#contactError"),
                        n=e(this.submitButton);
                        n.button("loading"),
                        e.ajax
                        (
                            {
                                type: "POST",
                                url: o.attr("action"),
                                data: 
                                {
                                    'data[Contact][name]': o.find("#contact-name").val(),
                                    'data[Contact][email]': o.find("#contact-email").val(),
                                    'data[Contact][subject]': o.find("#contact-subject").val(),
                                    'data[Contact][message]': o.find("#contact-message").val()
                                },
                                dataType: "json",
                                complete: function(s)
                                {                                    
                                    return "object" == typeof s.responseJSON && 1 == s.responseJSON.status ?
                                    (
                                        t.text(s.responseJSON.msg),
                                        t.removeClass("hidden"),
                                        a.addClass("hidden"),
                                        o.find(".form-control").val("").blur().parent()
                                            .removeClass("has-success").removeClass("has-error")
                                            .find("label.error").remove(),
                                        t.offset().top-80 < e(window).scrollTop() && 
                                        e("html, body").animate({scrollTop:t.offset().top-80},300),
                                        void n.button("reset")
                                    )
                                    :
                                    (
                                        a.text(s.responseJSON.msg),
                                        a.removeClass("hidden"),
                                        t.addClass("hidden"),
                                        a.offset().top-80<e(window).scrollTop()&&e("html, body")
                                        .animate({scrollTop:a.offset().top-80},300),
                                        o.find(".has-success").removeClass("has-success"),
                                        void n.button("reset")
                                    )
                                }
                            }
                        )
                }
            }
        )
    }
);